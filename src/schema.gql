# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type PointCategory {
  id: String!
  name: String!
  gameId: String!
}

type Game {
  id: String!
  name: String!
  minPlayers: Int!
  maxPlayers: Int!
  bggId: Int
  bggRank: Int
  bggWeight: Float
  imgUrl: String
  thumbnailUrl: String
  userId: String!
  pointCategories: [PointCategory!]
  lastPlayedAt: DateTime
  latestResult: Result
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type PaginatedGames {
  items: [Game!]!
  total: Int!
}

type Player {
  id: String!
  name: String!
  userId: String!
}

type Point {
  id: String!
  scoreId: String!
  pointCategoryId: String!
  value: Int
  pointCategory: PointCategory!
}

type Score {
  id: String!
  resultId: String!
  playerId: String!
  player: Player
  points: [Point!]
}

type Result {
  id: String!
  gameId: String!
  game: Game!
  createdAt: DateTime!
  playingTime: Int
  userId: String!
  scores: [Score!]
}

type PaginatedResults {
  items: [Result!]!
  total: Int!
}

type BggGameSearchResult {
  bggId: ID!
  name: String!
  yearPublished: Int
}

type BggGameDetails {
  bggId: ID!
  names: [String!]!
  img: String
  thumbnail: String
  minPlayers: Int!
  maxPlayers: Int!
}

type BggGameStats {
  bggRank: Int!
  weight: Float!
}

type Query {
  games(skip: Int = 0, take: Int = 10, sortBy: GameSortBy = POPULARITY): PaginatedGames!
  game(id: String!): Game
  searchBggGames(query: String!): [BggGameSearchResult!]!
  getBggGameDetails(bggId: String!): BggGameDetails!
  getBggGameStats(bggId: String!): BggGameStats!
  players: [Player!]!
  player(id: String!): Player
  results(skip: Int = 0, take: Int = 10): PaginatedResults!
  result(id: String!): Result
  latestResultByGameName(gameName: String!): Result
}

enum GameSortBy {
  POPULARITY
  LAST_PLAYED
  ALPHABETICAL
}

type Mutation {
  createGame(createGameInput: CreateGameInput!): Game!
  syncGameWithBgg(id: String!): Game!
  syncAllGamesWithBgg: [Game!]!
  createPlayer(createPlayerInput: CreatePlayerInput!): Player!
  removePlayer(id: String!): Player!
}

input CreateGameInput {
  name: String!
  minPlayers: Int!
  maxPlayers: Int!
  bggId: Int
  bggRank: Int
  bggWeight: Float
  imgUrl: String
  thumbnailUrl: String
  userId: String!
  pointCategoryNames: [String!]
}

input CreatePlayerInput {
  name: String!
  userId: String!
}